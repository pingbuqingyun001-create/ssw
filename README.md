# 网盘刮削助手 - 安装指南

这是网盘刮削助手插件扩展，提供了完整的视频信息匹配和管理功能，
让你的网盘视频列表变得更加美观、专业和易于管理。

## 版本信息

- **当前版本**: v1.0.0
- **更新日期**: 2025年9月
- **支持浏览器**: Chrome, Edge, Brave等Chromium内核浏览器

## 主要功能

### 🎬 智能视频信息刮削

- 自动从 TMDb获取电影/电视剧信息
- 支持中文搜索和多语言结果显示。
- 增强的文件名解析规则，支持复杂中英文混合格式
- 支持《》、【】、{tmdb-xxxxx} 等多种标识符格式
- 智能提取电影/剧集核心标题，自动移除技术参数

### 📝 全面信息自动填充

- 自动填入电影标题、简介、年份、类型等信息
- 自动设置高质量封面图片
- 支持导演、演员、评分、国家/地区等详细信息
- 保留原有115文件标题，不被覆盖

### ⚡ 高效批量处理

- 支持批量匹配和更新115生活"我看"列表
- 视频选择对话框显示序号（01, 02等）
- 序号范围快速选择功能（如输入1-50）
- 实时进度显示和状态反馈
- 支持中断和继续处理

### 🔄 双重匹配模式

- **自动匹配**：自动选择最相关的搜索结果
- **人工匹配**：显示搜索结果供用户选择
- **可同时启用**：在详情页显示两个按钮供选择

### 🎯 智能筛选功能

- 快速筛选无封面的视频文件
- 筛选无类型信息的文件（异步加载详情）
- 支持全选、反选操作
- 组合筛选提升处理效率

### ⚙️ 灵活配置管理

- TMDb API 密钥管理和连接测试
- 匹配模式独立开关
- 请求延迟和重试次数调整
- 完整帮助文档集成

## 安装步骤

### 方法一：开发者模式安装（推荐）

1. **下载插件文件**
   - 下载整个 `video-scraper-extension` 文件夹到本地

2. **打开Chrome扩展程序页面**
   - 在Chrome地址栏输入：`chrome://extensions/`
   - 或者：菜单 → 更多工具 → 扩展程序

3. **启用开发者模式**
   - 在页面右上角开启"开发者模式"开关

4. **加载插件**
   - 点击"加载已解压的扩展程序"按钮
   - 选择 `video-scraper-extension` 文件夹
   - 点击"选择文件夹"

5. **验证安装**
   - 插件应该出现在扩展程序列表中
   - 浏览器工具栏会显示插件图标

### 方法二：打包安装

1. **打包扩展程序**
   - 在扩展程序页面，点击"打包扩展程序"
   - 选择 `video-scraper-extension` 文件夹
   - 点击"打包扩展程序"按钮
   - 生成 `.crx` 文件

2. **安装打包文件**
   - 将 `.crx` 文件拖拽到Chrome扩展程序页面
   - 点击"添加扩展程序"确认安装

## 首次配置

### 1. 获取TMDb API密钥

1. **注册TMDb账户**
   - 访问：https://www.themoviedb.org/
   - 点击"Join TMDb"注册新账户
   - 验证邮箱完成注册

2. **申请API密钥**
   - 登录后访问：https://www.themoviedb.org/settings/api
   - 点击"Create"或"Request an API Key"
   - 选择"Developer"类型
   - 填写必要信息（可以填写个人用途）
   - 接受条款并提交申请
   - 获得API密钥（类似：`a1b2c3d4e5f6g7h8i9j0k1l2m3n4o5p6`）

**提示**：在设置页面可以点击"查看完整帮助"获取详细的申请步骤说明

### 2. 配置插件

1. **打开设置页面**
   - 点击浏览器工具栏中的插件图标
   - 点击"设置"按钮
   - 或右键插件图标选择"选项"

2. **填入API密钥**
   - 在"TMDb API密钥"输入框中粘贴你的API密钥
   - 点击"测试连接"验证密钥是否有效

3. **选择匹配模式**
   - **启用自动匹配**：在视频详情页显示"自动匹配"按钮，系统自动选择最相关的结果
   - **启用人工匹配**：在视频详情页显示"人工匹配"按钮，显示搜索结果供你选择
   - **可同时启用**：两种模式可以同时开启，在详情页会显示两个按钮

4. **高级功能说明**
   - **批量匹配**：支持一次处理多个视频文件
   - **视频选择**：可通过序号范围快速选择文件（如1-50）
   - **筛选功能**：支持筛选无封面、无类型的文件
   - **自动保存原标题**：更新信息时不会覆盖115原有标题

5. **调整高级选项**（可选）
   - 请求延迟：批量处理时的请求间隔（推荐1000毫秒）
   - 最大重试次数：失败时的重试次数（推荐3次）

6. **保存设置**
   - 点击"保存设置"按钮
   - 看到"设置保存成功"提示即完成配置

## 功能验证

### 1. 检查插件状态

1. **访问115生活**
   - 登录 https://115.com
   - 进入"我看"页面

2. **验证页面识别**
   - 插件会自动识别115页面
   - 在"我看"列表页会显示批量匹配按钮
   - 在视频详情页会显示匹配按钮

### 2. 使用基本功能

#### 单个视频匹配（详情页）
1. 进入任意视频详情页
2. 查看页面右上角操作区域
3. 根据设置会显示以下按钮：
   - **自动匹配**：一键自动匹配最佳结果
   - **人工匹配**：显示搜索结果供选择
4. 点击按钮测试匹配功能
5. 确认信息正确更新（简介、类型、演员等）

#### 批量匹配（列表页）
1. 在"我看"列表页面
2. 点击右上角操作区域，可选择**自动匹配**或**人工匹配**按钮
3. 在弹出的选择对话框中：
   - 查看每个视频的序号（右下角）
   - 使用"选择序号"功能快速选择（如输入1-20）
   - 使用"反选"功能反向选择
   - 开启"只显示无封面的视频"筛选
   - 开启"无类型"筛选无类型信息的视频
4. 点击"立即匹配"开始批量处理
5. 监控处理进度和结果

## 常见问题

### Q: 插件安装后没有显示图标
**A:** 检查是否启用了开发者模式，重新加载插件

### Q: API密钥测试失败
**A:** 
- 检查密钥是否完整复制
- 确认网络连接正常
- 验证TMDb账户状态

### Q: 找不到匹配按钮
**A:**
- 确认在115生活的我看页面
- 刷新页面重试
- 检查插件是否正常加载

### Q: 搜索没有结果
**A:**
- 检查文件名是否包含电影/剧集名称
- 文件名建议使用《》包含标题，如：《肖申克的救赎》1994.mp4
- 支持【导演_片名】格式，如：【周星驰_破坏之王】
- 避免过多技术参数干扰（如x264、AAC等）
- 使用人工匹配模式手动输入关键词重新搜索

### Q: 封面设置失败
**A:**
- 检查网络连接
- 确认115账户有相应权限
- 重试或跳过封面设置

### Q: 批量匹配时获取0条结果
**A:**
- 检查文件名是否包含{tmdb-xxxxx}格式，插件会自动处理
- 确认关键词提取是否正确（查看控制台日志）
- 使用人工匹配模式重新搜索

### Q: 无类型筛选没有效果
**A:**
- 无类型筛选需要获取每个文件的详细信息
- 点击后会显示"无类型 (检查中...)"，请等待
- 文件较多时可能需要较长时间

## 卸载方法

1. 进入 `chrome://extensions/` 页面
2. 找到"115生活我看整理"插件
3. 点击"移除"按钮
4. 确认卸载

## 更新日志

### v1.0.0 (2025年1月)
- ✨ 新增：我看视频信息智能匹配
- ✨ 新增：支持列表批量处理
- ✨  新增：支持自动/人工匹配模式
- ✨ 新增：支持列表多种视频文件筛选

- 

## 技术支持

如有问题，请：
1. 查看浏览器控制台错误信息（F12）
2. 检查插件设置是否正确
3. 确认115账号登录状态
4. 验证TMDb API密钥有效性
5. 查看文件名匹配规则文档

## 隐私声明

- 插件仅在115.com域名下运行
- 不收集任何个人信息
- API密钥仅存储在本地
- 所有数据处理均在本地完成

---

